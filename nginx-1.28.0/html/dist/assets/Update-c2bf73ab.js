import{f as g,u as _,p as y,h as x,a as r,c as d,b as t,j as l,v as a,m,e as p,k as U,F as L,l as V,i as k,t as B,_ as M}from"./index-11f0a9be.js";import{a as u}from"./axiosInstance-f3a3ca4f.js";const S={id:"container"},w={class:"form-group"},C={class:"col-sm-10"},D={class:"form-group"},N={class:"col-sm-10"},R={class:"form-group"},q={class:"col-sm-10"},E={class:"form-group"},F={class:"col-sm-10"},I={class:"form-group"},T={class:"col-sm-10"},j=["textContent","value"],z=g({__name:"Update",setup(h){const f=_(),i=y(),e=x({form:{id:null,number:null,name:null,gender:null,age:null,dep:{id:null}},depList:[]}),c=()=>{u.put("/emp",e.form).then(n=>{n.data==!0?f.push({name:"EmpShow"}):alert("系统错误")})},v=()=>{e.form.id&&u.get("/emp/"+e.form.id).then(n=>{e.form=n.data,e.form.dep==null&&e.depList.length>0&&(e.form.dep={id:e.depList[0].id})})},b=()=>{e.depList=[{id:1,name:"测试部"},{id:2,name:"设计部"},{id:3,name:"产品部"}],e.depList.length>0&&(e.form.dep.id=e.depList[0].id)};return e.form.id=i.query.id?Number(i.query.id):null,b(),v(),(n,o)=>(r(),d("div",S,[t("form",{class:"form-horizontal",onSubmit:k(c,["prevent"])},[t("div",w,[o[6]||(o[6]=t("label",{class:"col-sm-2 control-label"},"编号",-1)),t("div",C,[l(t("input",{type:"text",class:"form-control",placeholder:"请输入编号","onUpdate:modelValue":o[0]||(o[0]=s=>e.form.number=s)},null,512),[[a,e.form.number]])])]),t("div",D,[o[7]||(o[7]=t("label",{class:"col-sm-2 control-label"},"名字",-1)),t("div",N,[l(t("input",{type:"text",class:"form-control",placeholder:"请输入名字","onUpdate:modelValue":o[1]||(o[1]=s=>e.form.name=s)},null,512),[[a,e.form.name]])])]),t("div",R,[o[10]||(o[10]=t("label",{class:"col-sm-2 control-label"},"性别",-1)),t("div",q,[l(t("input",{type:"radio",value:"男","onUpdate:modelValue":o[2]||(o[2]=s=>e.form.gender=s)},null,512),[[m,e.form.gender]]),o[8]||(o[8]=p("男 ",-1)),l(t("input",{type:"radio",value:"女","onUpdate:modelValue":o[3]||(o[3]=s=>e.form.gender=s)},null,512),[[m,e.form.gender]]),o[9]||(o[9]=p("女 ",-1))])]),t("div",E,[o[11]||(o[11]=t("label",{class:"col-sm-2 control-label"},"年龄",-1)),t("div",F,[l(t("input",{type:"text",class:"form-control",placeholder:"请输入年龄","onUpdate:modelValue":o[4]||(o[4]=s=>e.form.age=s)},null,512),[[a,e.form.age]])])]),t("div",I,[o[12]||(o[12]=t("label",{class:"col-sm-2 control-label"},"部门",-1)),t("div",T,[l(t("select",{class:"form-control","onUpdate:modelValue":o[5]||(o[5]=s=>e.form.dep.id=s)},[(r(!0),d(L,null,V(e.depList,s=>(r(),d("option",{textContent:B(s.name),key:s.id,value:s.id},null,8,j))),128))],512),[[U,e.form.dep.id]])])]),o[13]||(o[13]=t("div",{class:"form-group"},[t("div",{class:"col-sm-offset-2 col-sm-10"},[t("button",{type:"submit",class:"btn btn-primary"},"保存")])],-1))],32)]))}});const H=M(z,[["__scopeId","data-v-7a328c8e"]]);export{H as default};
